<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Route Configuration :: Red Hat Integration</title>
    <meta name="generator" content="Antora 3.0.3">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">Red Hat Integration</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="manual" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">User manual</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="getting-started.html">Getting started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="book-getting-started.html">Getting Started with Apache Camel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="what-are-the-dependencies.html">What are the dependencies?</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Resources &amp; Guides</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="/community/books/">Books</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="building.html">Building</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-console.html">Camel Developer Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-jbang.html">Camel JBang</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-maven-plugin.html">Camel Maven Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-component-maven-plugin.html">Camel Component Maven Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-report-maven-plugin.html">Camel Maven Report Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-maven-archetypes.html">Camel Maven Archetypes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configuring-route-startup-ordering-and-autostartup.html">Configuring route startup ordering and autostartup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="component-dsl.html">Component DSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Endpoint-dsl.html">Endpoint DSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dataformat-dsl.html">DataFormat DSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="graceful-shutdown.html">Graceful Shutdown</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="error-handler.html">Error handler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="using-propertyplaceholder.html">How to use Camel property placeholders</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="testing.html">Testing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="test-infra.html">Test Infra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="notify-builder.html">NotifyBuilder</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="advice-with.html">AdviceWith</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rest-dsl.html">Working with REST and Rest DSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="writing-components.html">Writing Components</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="release-guide.html">Release guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="release-guide-website.html">Adding doc versions to the website</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="improving-the-documentation.html">Improving the Documentation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="migration-and-upgrade.html">Migration and Upgrade</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-3-migration-guide.html">Camel 2.x to 3.0 Migration Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-3x-upgrade-guide.html">Camel 3.x Upgrade Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-4-migration-guide.html">Camel 3.x to 4.0 Migration Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-4x-upgrade-guide.html">Camel 4.x Upgrade Guide</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="architecture.html">Architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="backlog-debugger.html">Backlog debugger</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="backlog-tracer.html">Backlog Tracer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="batch-consumer.html">Batch Consumer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bean-binding.html">Bean Binding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bean-integration.html">Bean Integration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="browsable-endpoint.html">BrowsableEndpoint</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camelcontext.html">CamelContext</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camelcontext-autoconfigure.html">CamelContext Auto Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="clustering.html">Clustering and Load Balancing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="component.html">Component</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="data-format.html">Data Format</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="debugger.html">Debugger</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="delay-interceptor.html">Delayer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="endpoint.html">Endpoints</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="endpoint-annotations.html">Endpoint Annotations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="exception-clause.html">Exception Clause</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="exchange-pooling.html">Exchange Pooling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="http-session-handling.html">HTTP-Session Handling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="parameter-binding-annotations.html">Parameter Binding Annotations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pojo-producing.html">POJO Producing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pojo-consuming.html">POJO Consuming</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="producertemplate.html">ProducerTemplate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="consumertemplate.html">ConsumerTemplate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="error-handler.html">Error Handler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="exchange.html">Message Exchange</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="exchange-pattern.html">Exchange Pattern</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="using-exchange-pattern-annotations.html">Using Exchange pattern annotations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="expression.html">Expressions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/next/eips/content-enricher.html">Content Enrichment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="injector.html">Injector</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/next/eips/intercept.html">Intercept</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="jmx.html">JMX</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="lifecycle.html">Camel Lifecycle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="oncompletion.html">OnCompletion</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pluggable-class-resolvers.html">Pluggable Class Resolvers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="predicate.html">Predicates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="processor.html">Processor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="registry.html">Registry</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-builder.html">RouteBuilder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="lambda-route-builder.html">LambdaRouteBuilder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-controller.html">RouteController</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-policy.html">RoutePolicy</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="route-configuration.html">RouteConfiguration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="context-reload.html">ContextReload</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-reload.html">RouteReload</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-template.html">RouteTemplate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="routes.html">Routes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="stream-caching.html">Stream caching</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="transformer.html">Transformer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="threading-model.html">Threading Model</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tracer.html">Tracer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="type-converter.html">Type Converter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="uris.html">URIs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="uuidgenerator.html">UuidGenerator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="validator.html">Validator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="health-check.html">Health Checks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Domain Specific Languages</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dsl.html">Camel Domain Specific Language</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages.html">Languages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="java-dsl.html">Java DSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="spring.html">Spring support</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="faq/index.html">FAQ</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/can-i-get-commercial-support.html">Can I get commercial support?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="/community/support/">How can I get help?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-i-get-the-source-code.html">How can I get the source code?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-does-camel-work.html">How does Camel work?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-does-the-website-work.html">How does the website work?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-become-a-committer.html">How do I become a committer?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-compile-the-code.html">How do I compile the code?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-edit-the-website.html">How do I edit the website?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/running-camel-standalone.html">Running Camel standalone</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/what-is-a-router.html">What is a router?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/what-is-camel.html">What is Camel?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/what-is-the-license.html">What is the license?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages.html">What languages are supported?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/what-platforms-are-supported.html">What platforms are supported?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-the-name-camel.html">Why the name Camel?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-specify-which-method-to-use-when-using-beans-in-routes.html">How do I specify which method to use when using beans in routes?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-i-create-a-custom-component-or-endpoint.html">How can I create a custom component or endpoint?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-i-get-the-remote-connection-ip-address-from-the-camel-cxf-consumer-.html">How can I get the remote connection IP address from the camel-cxf consumer ?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-i-stop-a-route-from-a-route.html">How can I stop a route from a route?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-webservice-clients-see-remote-faults-with-stacktraces-when-using-camel-cxf.html">How can webservice clients see remote faults with stacktraces when using camel-cxf?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-does-camel-look-up-beans-and-endpoints.html">How does Camel look up beans and endpoints?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-change-the-logging.html">How do I change the logging?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-configure-endpoints.html">How do I configure endpoints?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-configure-password-options-on-camel-endpoints-without-the-value-being-encoded.html">How do I configure password options on Camel endpoints without the value being encoded?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-configure-the-default-maximum-cache-size-for-producercache-or-producertemplate.html">How do I configure the default maximum cache size for ProducerCache or ProducerTemplate?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-configure-the-maximum-endpoint-cache-size-for-camelcontext.html">How do I configure the maximum endpoint cache size for CamelContext?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-debug-my-route.html">How do I debug my route?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-disable-jmx.html">How do I disable JMX?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-enable-streams-when-debug-logging-messages-in-camel.html">How do I enable streams when debug logging messages in Camel?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-handle-failures-when-consuming-for-example-from-a-ftp-server.html">How do I handle failures when consuming for example from a FTP server?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-import-rests-from-other-xml-files.html">How do I import rests from other XML files?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-import-routes-from-other-xml-files.html">How do I import routes from other XML files?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-let-jetty-match-wildcards.html">How do I let Jetty match wildcards?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-name-my-routes.html">How do I name my routes?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-restart-camelcontext.html">How do I restart CamelContext?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-retrieve-the-thrown-exception-during-processing-an-exchange.html">How do I retrieve the thrown Exception during processing an Exchange?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-retry-failed-messages-forever.html">How do I retry failed messages forever?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-retry-processing-a-message-from-a-certain-point-back-or-an-entire-route.html">How do I retry processing a message from a certain point back or an entire route?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-reuse-the-contexttestsupport-class-in-my-unit-tests.html">How do I reuse the ContextTestSupport class in my unit tests?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-set-the-max-chars-when-debug-logging-messages-in-camel.html">How do I set the max chars when debug logging messages in Camel?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-use-uris-with-parameters-in-xml.html">How do I use URIs with parameters in XML?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-write-a-custom-processor-which-sends-multiple-messages.html">How do I write a custom Processor which sends multiple messages?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-should-i-invoke-my-pojos-or-spring-services.html">How should I invoke my POJOs or Spring Services?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-avoid-importing-bunch-of-cxf-packages-when-start-up-the-camel-cxf-endpoint-from-osgi-platform-.html">How to avoid importing bunch of cxf packages when start up the camel-cxf endpoint from OSGi platform?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-avoid-sending-some-or-all-message-headers.html">How to avoid sending some or all message headers?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-remove-the-http-protocol-headers-in-the-camel-message.html">How to remove the http protocol headers in the camel message?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-send-the-same-message-to-multiple-endpoints.html">How to send the same message to multiple endpoints?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-switch-the-cxf-consumer-between-http-and-https-without-touching-the-spring-configuration.html">How to switch the CXF consumer between HTTP and HTTPS without touching the Spring configuration?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-use-a-dynamic-uri-in-to.html">How to use a dynamic URI in to()?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/is-there-an-ide.html">Is there an IDE?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/using-getin-or-getout-methods-on-exchange.html">Using getIn or getOut methods on Exchange</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-cant-i-use-sign-in-my-password.html">Why can&#8217;t I use + sign in my password?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-can-i-not-use-when-or-otherwise-in-a-java-camel-route.html">Why can I not use when or otherwise in a Java Camel route?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-ftp-component-not-download-any-files.html">Why does FTP component not download any files?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-my-file-consumer-not-pick-up-the-file-and-how-do-i-let-the-file-consumer-use-the-camel-error-handler.html">Why does my file consumer not pick up the file, and how do I let the file consumer use the Camel error handler?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-useoriginalmessage-with-error-handler-not-work-as-expected.html">Why does useOriginalMessage with error handler not work as expected?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-do-my-message-lose-its-headers-during-routing.html">Why do my message lose its headers during routing?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-is-my-message-body-empty.html">Why is my message body empty?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-is-my-processor-not-showing-up-in-jconsole.html">Why is my processor not showing up in JConsole?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-is-the-exception-null-when-i-use-onexception.html">Why is the exception null when I use onException?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-use-multiple-camelcontext.html">Why use multiple CamelContext?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-enable-debug-logging.html">How do I enable debug logging?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-use-log4j.html">How do I use log4j?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-make-my-jms-endpoint-transactional.html">How Do I Make My JMS Endpoint Transactional?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-set-the-mep-when-interacting-with-jbi.html">How do I set the MEP when interacting with JBI?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-the-direct-event-seda-and-vm-endpoints-compare.html">How do the direct, event, seda and vm endpoints compare?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-the-timer-and-quartz-endpoints-compare.html">How do the Timer and Quartz endpoints compare?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-my-jms-route-only-consume-one-message-at-once.html">Why does my JMS route only consume one message at once?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/exception-beandefinitionstoreexception.html">Exception - BeanDefinitionStoreException</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/exception-orgapachecamelnosuchendpointexception.html">Exception - org.apache.camel.NoSuchEndpointException</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/exception-orgxmlsaxsaxparseexception.html">Exception - org.xml.sax.SAXParseException</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/memory-leak-when-adding-and-removing-routes-at-runtime.html">Memory leak when adding and removing routes at runtime</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-camel-use-too-many-threads-with-producertemplate.html">Why does Camel use too many threads with ProducerTemplate?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-maven-not-download-dependencies.html">Why does maven not download dependencies?</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><strong>Reference</strong></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../components/next/index.html">Components</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../components/next/dataformats/index.html">Data Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../components/next/languages/index.html">Languages</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../components/next/eips/enterprise-integration-patterns.html">EIPs</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">User manual</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../components/next/index.html">Camel Components</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../components/next/index.html">Next (Pre-release)</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">User manual</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">User manual</a></li>
    <li><a href="architecture.html">Architecture</a></li>
    <li><a href="route-configuration.html">RouteConfiguration</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="file:///code/jboss/jboss-camel/docs/user-manual/modules/ROOT/pages/route-configuration.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Route Configuration</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Camel 3.12 introduces route configuration which is used for separating configurations
from the routes. This can be used in situations such as configuring different error handling across a set of routes.
In previous versions of Camel this was more cumbersome to do, as you would either have
to copy the same configuration to a set of routes or rely on global error handling configuration.</p>
</div>
<div class="paragraph">
<p>Now you can configure a number of route configurations, and then specify on each route
which configuration to use (you can use match by ids, wildcards, and regular expression).</p>
</div>
<div class="paragraph">
<p>The route configuration is supported by all DSL&#8217;s, so useable by: Java, XML, Groovy, Kotlin and so forth.</p>
</div>
<div class="paragraph">
<p>In the route configuration you can setup common strategies for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="error-handler.html" class="xref page">Error Handler</a></p>
</li>
<li>
<p><a href="exception-clause.html" class="xref page">OnException</a></p>
</li>
<li>
<p><a href="oncompletion.html" class="xref page">OnCompletion</a></p>
</li>
<li>
<p><a href="../components/next/eips/intercept.html" class="xref page">Intercept</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_route_configuration_builder_in_java_dsl"><a class="anchor" href="#_route_configuration_builder_in_java_dsl"></a>Route Configuration Builder in Java DSL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With Java DSL you can use <code>RouteConfigurationBuilder</code> to specify the configuration as shown below.
The builder is similar to <code>RouteBuilder</code> so its use is familiar.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MyJavaErrorHandler extends RouteConfigurationBuilder {

    @Override
    public void configuration() throws Exception {
        routeConfiguration("javaError")
            .onException(Exception.class).handled(true)
            .log("Java WARN: ${exception.message}");
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>RouteConfigurationBuilder</code> uses <code>configuration</code> as the method where the configuration is coded.
This is on purpose not to use the <code>configure</code> method which the regular Java DSL <code>RouteBuilder</code>
uses for coding Camel routes.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the example above, then there is only one route configuration which has been assigned the ID <em>javaError</em>.
This ID allows us to refer to this configuration later when you want to assign which routes are using the configuration.</p>
</div>
<div class="paragraph">
<p>This configuration is a basic configuration that just catches and handles all exceptions and logs a WARN message.</p>
</div>
<div class="sect2">
<h3 id="_assigning_route_configurations_to_routes"><a class="anchor" href="#_assigning_route_configurations_to_routes"></a>Assigning route configurations to routes</h3>
<div class="paragraph">
<p>To use this configuration in your routes, then you can assign it with <code>routeConfigurationId</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MyJavaRouteBuilder extends RouteBuilder {

    @Override
    public void configure() throws Exception {
        from("timer:java?period=2s")
            // refer to the route configuration by the id to use for this route
            .routeConfigurationId("javaError")
            .setBody(method(MyJavaRouteBuilder.class, "randomNumber"))
            .log("Random number ${body}")
            .filter(simple("${body} &lt; 30"))
                .throwException(new IllegalArgumentException("The number is too low"));
    }

    public static int randomNumber() {
        return new Random().nextInt(100);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the <code>routeConfigurationId</code> the configuration to use is specified by the ID, eg <em>javaError</em>.</p>
</div>
<div class="paragraph">
<p>Multiple configurations can be assigned (separated by comma), such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.routeConfigurationId("javaError,myAudit")</code></pre>
</div>
</div>
<div class="paragraph">
<p>The route configurations supports matching by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>exact ID name. This is the sample we have seen above.</p>
</li>
<li>
<p>wildcard</p>
</li>
<li>
<p>regular expression.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Wildcards are text ending with a *; they are matched when the configuration ID starts with the specified text followed by any characters. For instance, you can do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.routeConfigurationId("java*,myAudit")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we use wildcard in <em>java*</em> which means any configuration whose ID starts with java is a match.</p>
</div>
<div class="paragraph">
<p>Match by regular expression is just like match by wildcard but using regex instead.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.routeConfigurationId(".*error.*")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we want to match any configuration whose ID contains <em>error</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_adding_route_configurations_to_camelcontext"><a class="anchor" href="#_adding_route_configurations_to_camelcontext"></a>Adding route configurations to CamelContext</h3>
<div class="paragraph">
<p>Because a <code>RouteConfigurationBuilder</code> is also a <code>RouteBuilder</code> then you add route configurations
the same way for <code>RouteBuilder</code> such as using the API on <code>CamelContext</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">CamelContext context = ...
// add the route configuration
context.addRoutes(new MyJavaErrorHandler());
// add the regular route
context.addRoutes(new MyJavaRouteBuilder());</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you use Spring Boot, then your Camel routes and route configurations can be auto-discovered
by the spring boot component scanning. This requires adding the <code>@Component</code> annotation to the class.</p>
</div>
<div class="paragraph">
<p>See the example <a href="https://github.com/apache/camel-spring-boot-examples/tree/main/routes-configuration">camel-spring-boot-examples/routes-configuration</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_route_configuration_with_endpoint_dsl"><a class="anchor" href="#_route_configuration_with_endpoint_dsl"></a>Route configuration with Endpoint DSL</h3>
<div class="paragraph">
<p>The <a href="Endpoint-dsl.html" class="xref page">Endpoint DSL</a> can also be used for route configurations.
This requires adding <code>camel-endpointdsl</code> to the classpath, and then using
<code>org.apache.camel.builder.endpoint.EndpointRouteConfigurationBuilder</code>,
which offers the <em>type safe</em> DSL for Camel endpoints.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_default_route_configurations"><a class="anchor" href="#_default_route_configurations"></a>Default route configurations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Route configurations are either given an explicit unique ID, or the configuration is <em>nameless</em>.
A <em>nameless</em> configuration is used as default/fallback configuration, for routes which have <strong>NOT</strong>
been explicitly assigned route configurations.</p>
</div>
<div class="paragraph">
<p>Suppose you have one <em>nameless</em> configuration and another named <em>retryError</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MyJavaErrorHandler extends RouteConfigurationBuilder {

    @Override
    public void configuration() throws Exception {
        routeConfiguration()
            .onException(Exception.class).handled(true)
            .log("WARN: ${exception.message}");

        routeConfiguration("retryError")
            .onException(Exception.class).maximumRedeliveries(5);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And the following two routes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">   from("file:cheese").routeId("cheese")
        .to("kafka:cheese");

   from("file:beer").routeId("beer")
        .routeConfigurationId("retryError")
        .to("jms:beer");</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above, the <em>cheese</em> route has no route configurations assigned, so the route
will use the default configuration, which in case of an exception will log a warning.</p>
</div>
<div class="paragraph">
<p>The <em>beer</em> route on the other hand has the route configuration <em>retryError</em> assigned, and this
configuration will in case of an exception retry up to 5 times and then if still an error
then fail and rollback.</p>
</div>
<div class="paragraph">
<p>If you add more routes, then those routes can also be assigned the <em>retryError</em> configuration
if they should also retry in case of error.</p>
</div>
<div class="sect2">
<h3 id="_route_configuration_with_error_handler"><a class="anchor" href="#_route_configuration_with_error_handler"></a>Route Configuration with Error Handler</h3>
<div class="paragraph">
<p>Each route configuration can also have a specific error handler configured, as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MyJavaErrorHandler extends RouteConfigurationBuilder {

    @Override
    public void configuration() throws Exception {
        routeConfiguration()
            .errorHandler(deadLetterChannel("mock:dead"));

        routeConfiguration("retryError")
            .onException(Exception.class).maximumRedeliveries(5);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above, the <em>nameless</em> configuration has an error handler with a dead letter queue.
And the route configuration with id <em>retryError</em> does not, and instead it will attempt
to retry the failing message up till 5 times before giving up (exhausted). Because this
route configuration does not have any error handler assigned, then Camel will use the default error handler.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Routes that have a local error handler defined, will always use this error handler,
instead of the error handler from route configurations. A route can only have 1 error handler.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_route_configuration_in_xml"><a class="anchor" href="#_route_configuration_in_xml"></a>Route Configuration in XML</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When using XML DSL then you can code your route configurations in XML files as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;routeConfiguration id="xmlError"&gt;
    &lt;onException&gt;
        &lt;exception&gt;java.lang.Exception&lt;/exception&gt;
        &lt;handled&gt;&lt;constant&gt;true&lt;/constant&gt;&lt;/handled&gt;
        &lt;log message="XML WARN: ${exception.message}"/&gt;
    &lt;/onException&gt;
&lt;/routeConfiguration&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And in the XML routes you can assign which configurations to use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;route routeConfigurationId="xmlError"&gt;
    &lt;from uri="timer:xml?period=5s"/&gt;
    &lt;log message="I am XML"/&gt;
    &lt;throwException exceptionType="java.lang.Exception" message="Some kind of XML error"/&gt;
&lt;/route&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example the route is assigned the <em>xmlError</em> route configuration by the exact ID.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_route_configuration_in_yaml"><a class="anchor" href="#_route_configuration_in_yaml"></a>Route Configuration in YAML</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When using YAML DSL then you can code your route configurations in YAML files as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- route-configuration:
    id: "yamlError"
    on-exception:
    - on-exception:
        handled:
          constant: "true"
        exception:
          - "java.lang.Exception"
        steps:
          - log:
              message: "YAML WARN ${exception.message}"</code></pre>
</div>
</div>
<div class="paragraph">
<p>And in the YAML routes you can assign which configurations to use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- route:
    # refer to the route configuration by the id to use for this route
    route-configuration-id: "yamlError"
    from:
      uri: "timer:yaml?period=3s"
      steps:
        - set-body:
            simple: "Timer fired ${header.CamelTimerCounter} times"
        - to:
            uri: "log:yaml"
            parameters:
              show-body-type: false
              show-exchange-pattern: false
        - throw-exception:
            exception-type: "java.lang.IllegalArgumentException"
            message: "Error from yaml"</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example the route is assigned the <em>yamlError</em> route configuration by the exact ID.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mixing_dsls"><a class="anchor" href="#_mixing_dsls"></a>Mixing DSLs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Routes and route configuration are not required to use the same language. For example, you can code
route configurations in Java, and then use XML DSL for the routes, and they would work together.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_route_configuration_in_classic_springblueprint_xml"><a class="anchor" href="#_route_configuration_in_classic_springblueprint_xml"></a>Route Configuration in classic Spring/Blueprint XML</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When using XML DSL with <code>camel-spring-xml</code> or <code>camel-blueprint</code>
then you can code your route configurations in <code>&lt;routeConfigurationContext&gt;</code> snippets
in separate XML files as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;routeConfigurationContext id="myConf" xmlns="http://camel.apache.org/schema/spring"&gt;
    &lt;routeConfiguration id="xmlError"&gt;
        &lt;onException&gt;
            &lt;exception&gt;java.lang.Exception&lt;/exception&gt;
            &lt;handled&gt;&lt;constant&gt;true&lt;/constant&gt;&lt;/handled&gt;
            &lt;log message="XML WARN: ${exception.message}"/&gt;
        &lt;/onException&gt;
    &lt;/routeConfiguration&gt;
&lt;/routeConfigurationContext&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then from <code>&lt;camelContext&gt;</code> you can refer to these XML snippets by their ids:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;camelContext id="myCamel" xmlns="http://camel.apache.org/schema/spring"&gt;

    &lt;!-- refer to the ID on the context that has the route configurations (see above) --&gt;
    &lt;routeConfigurationContextRef ref="myConf"/&gt;

    &lt;!-- routes can then assign which configuration to use --&gt;
    &lt;route routeConfigurationId="xmlError"&gt;
        &lt;from uri="timer:xml?period=5s"/&gt;
        &lt;log message="I am XML"/&gt;
        &lt;throwException exceptionType="java.lang.Exception" message="Some kind of XML error"/&gt;
    &lt;/route&gt;
&lt;/camelContext&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example the route is assigned the <em>xmlError</em> route configuration by the exact ID.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_packaging_route_configurations_in_reusable_jars"><a class="anchor" href="#_packaging_route_configurations_in_reusable_jars"></a>Packaging route configurations in reusable JARs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can package common route configurations into JARs which you can then use together with
your Camel applications, by adding the JARs as dependencies to the classpath (such as in Maven pom.xml file).</p>
</div>
<div class="paragraph">
<p>This allows for example to use a <em>common practice</em> among your Camel applications.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_logging_summary"><a class="anchor" href="#_logging_summary"></a>Logging Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you set <code>startup-summary-level=verbose</code> then Camel will log for each route which route configurations they have been assigned.</p>
</div>
<div class="paragraph">
<p>This option can be configured via Java API and also in <code>application.properties</code> for Camel on Spring Boot, Quarkus, and Camel standalone via <code>camel-main</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">camelContext.setStartupSummaryLevel(StartupSummaryLevel.Verbose);</code></pre>
</div>
</div>
<div class="paragraph">
<p>And with Spring Boot:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">camel.spring-boot.startup-summary-level = verbose</code></pre>
</div>
</div>
<div class="paragraph">
<p>And in Camel Main / Quarkus:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">camel.main.startup-summary-level = verbose</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_route_precondition"><a class="anchor" href="#_route_precondition"></a>Route Precondition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The route configurations can be included or not according to the result of a test expressed in simple language that is evaluated only once during the initialization phase.</p>
</div>
<div class="paragraph">
<p>In the next example, the route configuration is only included if the parameter <code>activate</code> has been set to <code>true</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">routeConfiguration().precondition("{{activate}}")
    .onException(IllegalArgumentException.class)
    .handled(true)
    .log("WARN: ${exception.message}");</code></pre>
</div>
</div>
<div class="paragraph">
<p>And the same example using XML DSL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;routeConfiguration precondition="{{activate}}"&gt;
    &lt;onException&gt;
        &lt;exception&gt;java.lang.IllegalArgumentException&lt;/exception&gt;
        &lt;handled&gt;
            &lt;constant&gt;true&lt;/constant&gt;
        &lt;/handled&gt;
        &lt;log message="XML WARN: ${exception.message}"/&gt;
    &lt;/onException&gt;
&lt;/routeConfiguration&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And in YAML DSL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- route-configuration:
    precondition: "{{activate}}"
    on-exception:
    - on-exception:
        exception:
          - "java.lang.IllegalArgumentException"
        handled:
          constant: "true"
        steps:
          - log:
              message: "YAML WARN ${exception.message}"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_more_information"><a class="anchor" href="#_more_information"></a>More Information</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See these examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/apache/camel-examples/tree/main/examples/routes-configuration">camel-examples/examples/routes-configuration</a></p>
</li>
<li>
<p><a href="https://github.com/apache/camel-spring-boot-examples/tree/main/routes-configuration">camel-spring-boot-examples/routes-configuration/</a></p>
</li>
</ul>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>

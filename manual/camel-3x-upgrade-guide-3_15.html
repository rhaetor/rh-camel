<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Apache Camel 3.x Upgrade Guide :: Red Hat Integration</title>
    <meta name="generator" content="Antora 3.0.3">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">Red Hat Integration</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="manual" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">User manual</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="getting-started.html">Getting started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="book-getting-started.html">Getting Started with Apache Camel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="what-are-the-dependencies.html">What are the dependencies?</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Resources &amp; Guides</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="/community/books/">Books</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="building.html">Building</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-console.html">Camel Developer Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-jbang.html">Camel JBang</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-maven-plugin.html">Camel Maven Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-component-maven-plugin.html">Camel Component Maven Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-report-maven-plugin.html">Camel Maven Report Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-maven-archetypes.html">Camel Maven Archetypes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configuring-route-startup-ordering-and-autostartup.html">Configuring route startup ordering and autostartup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="component-dsl.html">Component DSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Endpoint-dsl.html">Endpoint DSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dataformat-dsl.html">DataFormat DSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="graceful-shutdown.html">Graceful Shutdown</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="error-handler.html">Error handler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="using-propertyplaceholder.html">How to use Camel property placeholders</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="testing.html">Testing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="test-infra.html">Test Infra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="notify-builder.html">NotifyBuilder</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="advice-with.html">AdviceWith</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rest-dsl.html">Working with REST and Rest DSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="writing-components.html">Writing Components</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="release-guide.html">Release guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="release-guide-website.html">Adding doc versions to the website</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="improving-the-documentation.html">Improving the Documentation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="migration-and-upgrade.html">Migration and Upgrade</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-3-migration-guide.html">Camel 2.x to 3.0 Migration Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-3x-upgrade-guide.html">Camel 3.x Upgrade Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-4-migration-guide.html">Camel 3.x to 4.0 Migration Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-4x-upgrade-guide.html">Camel 4.x Upgrade Guide</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="architecture.html">Architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="backlog-debugger.html">Backlog debugger</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="backlog-tracer.html">Backlog Tracer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="batch-consumer.html">Batch Consumer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bean-binding.html">Bean Binding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bean-integration.html">Bean Integration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="browsable-endpoint.html">BrowsableEndpoint</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camelcontext.html">CamelContext</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camelcontext-autoconfigure.html">CamelContext Auto Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="clustering.html">Clustering and Load Balancing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="component.html">Component</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="data-format.html">Data Format</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="debugger.html">Debugger</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="delay-interceptor.html">Delayer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="endpoint.html">Endpoints</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="endpoint-annotations.html">Endpoint Annotations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="exception-clause.html">Exception Clause</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="exchange-pooling.html">Exchange Pooling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="http-session-handling.html">HTTP-Session Handling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="parameter-binding-annotations.html">Parameter Binding Annotations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pojo-producing.html">POJO Producing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pojo-consuming.html">POJO Consuming</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="producertemplate.html">ProducerTemplate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="consumertemplate.html">ConsumerTemplate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="error-handler.html">Error Handler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="exchange.html">Message Exchange</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="exchange-pattern.html">Exchange Pattern</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="using-exchange-pattern-annotations.html">Using Exchange pattern annotations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="expression.html">Expressions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/next/eips/content-enricher.html">Content Enrichment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="injector.html">Injector</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/next/eips/intercept.html">Intercept</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="jmx.html">JMX</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="lifecycle.html">Camel Lifecycle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="oncompletion.html">OnCompletion</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pluggable-class-resolvers.html">Pluggable Class Resolvers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="predicate.html">Predicates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="processor.html">Processor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="registry.html">Registry</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-builder.html">RouteBuilder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="lambda-route-builder.html">LambdaRouteBuilder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-controller.html">RouteController</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-policy.html">RoutePolicy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-configuration.html">RouteConfiguration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="context-reload.html">ContextReload</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-reload.html">RouteReload</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-template.html">RouteTemplate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="routes.html">Routes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="stream-caching.html">Stream caching</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="transformer.html">Transformer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="threading-model.html">Threading Model</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tracer.html">Tracer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="type-converter.html">Type Converter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="uris.html">URIs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="uuidgenerator.html">UuidGenerator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="validator.html">Validator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="health-check.html">Health Checks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Domain Specific Languages</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dsl.html">Camel Domain Specific Language</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages.html">Languages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="java-dsl.html">Java DSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="spring.html">Spring support</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="faq/index.html">FAQ</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/can-i-get-commercial-support.html">Can I get commercial support?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="/community/support/">How can I get help?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-i-get-the-source-code.html">How can I get the source code?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-does-camel-work.html">How does Camel work?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-does-the-website-work.html">How does the website work?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-become-a-committer.html">How do I become a committer?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-compile-the-code.html">How do I compile the code?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-edit-the-website.html">How do I edit the website?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/running-camel-standalone.html">Running Camel standalone</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/what-is-a-router.html">What is a router?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/what-is-camel.html">What is Camel?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/what-is-the-license.html">What is the license?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages.html">What languages are supported?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/what-platforms-are-supported.html">What platforms are supported?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-the-name-camel.html">Why the name Camel?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-specify-which-method-to-use-when-using-beans-in-routes.html">How do I specify which method to use when using beans in routes?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-i-create-a-custom-component-or-endpoint.html">How can I create a custom component or endpoint?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-i-get-the-remote-connection-ip-address-from-the-camel-cxf-consumer-.html">How can I get the remote connection IP address from the camel-cxf consumer ?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-i-stop-a-route-from-a-route.html">How can I stop a route from a route?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-webservice-clients-see-remote-faults-with-stacktraces-when-using-camel-cxf.html">How can webservice clients see remote faults with stacktraces when using camel-cxf?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-does-camel-look-up-beans-and-endpoints.html">How does Camel look up beans and endpoints?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-change-the-logging.html">How do I change the logging?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-configure-endpoints.html">How do I configure endpoints?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-configure-password-options-on-camel-endpoints-without-the-value-being-encoded.html">How do I configure password options on Camel endpoints without the value being encoded?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-configure-the-default-maximum-cache-size-for-producercache-or-producertemplate.html">How do I configure the default maximum cache size for ProducerCache or ProducerTemplate?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-configure-the-maximum-endpoint-cache-size-for-camelcontext.html">How do I configure the maximum endpoint cache size for CamelContext?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-debug-my-route.html">How do I debug my route?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-disable-jmx.html">How do I disable JMX?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-enable-streams-when-debug-logging-messages-in-camel.html">How do I enable streams when debug logging messages in Camel?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-handle-failures-when-consuming-for-example-from-a-ftp-server.html">How do I handle failures when consuming for example from a FTP server?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-import-rests-from-other-xml-files.html">How do I import rests from other XML files?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-import-routes-from-other-xml-files.html">How do I import routes from other XML files?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-let-jetty-match-wildcards.html">How do I let Jetty match wildcards?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-name-my-routes.html">How do I name my routes?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-restart-camelcontext.html">How do I restart CamelContext?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-retrieve-the-thrown-exception-during-processing-an-exchange.html">How do I retrieve the thrown Exception during processing an Exchange?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-retry-failed-messages-forever.html">How do I retry failed messages forever?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-retry-processing-a-message-from-a-certain-point-back-or-an-entire-route.html">How do I retry processing a message from a certain point back or an entire route?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-reuse-the-contexttestsupport-class-in-my-unit-tests.html">How do I reuse the ContextTestSupport class in my unit tests?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-set-the-max-chars-when-debug-logging-messages-in-camel.html">How do I set the max chars when debug logging messages in Camel?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-use-uris-with-parameters-in-xml.html">How do I use URIs with parameters in XML?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-write-a-custom-processor-which-sends-multiple-messages.html">How do I write a custom Processor which sends multiple messages?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-should-i-invoke-my-pojos-or-spring-services.html">How should I invoke my POJOs or Spring Services?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-avoid-importing-bunch-of-cxf-packages-when-start-up-the-camel-cxf-endpoint-from-osgi-platform-.html">How to avoid importing bunch of cxf packages when start up the camel-cxf endpoint from OSGi platform?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-avoid-sending-some-or-all-message-headers.html">How to avoid sending some or all message headers?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-remove-the-http-protocol-headers-in-the-camel-message.html">How to remove the http protocol headers in the camel message?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-send-the-same-message-to-multiple-endpoints.html">How to send the same message to multiple endpoints?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-switch-the-cxf-consumer-between-http-and-https-without-touching-the-spring-configuration.html">How to switch the CXF consumer between HTTP and HTTPS without touching the Spring configuration?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-use-a-dynamic-uri-in-to.html">How to use a dynamic URI in to()?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/is-there-an-ide.html">Is there an IDE?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/using-getin-or-getout-methods-on-exchange.html">Using getIn or getOut methods on Exchange</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-cant-i-use-sign-in-my-password.html">Why can&#8217;t I use + sign in my password?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-can-i-not-use-when-or-otherwise-in-a-java-camel-route.html">Why can I not use when or otherwise in a Java Camel route?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-ftp-component-not-download-any-files.html">Why does FTP component not download any files?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-my-file-consumer-not-pick-up-the-file-and-how-do-i-let-the-file-consumer-use-the-camel-error-handler.html">Why does my file consumer not pick up the file, and how do I let the file consumer use the Camel error handler?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-useoriginalmessage-with-error-handler-not-work-as-expected.html">Why does useOriginalMessage with error handler not work as expected?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-do-my-message-lose-its-headers-during-routing.html">Why do my message lose its headers during routing?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-is-my-message-body-empty.html">Why is my message body empty?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-is-my-processor-not-showing-up-in-jconsole.html">Why is my processor not showing up in JConsole?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-is-the-exception-null-when-i-use-onexception.html">Why is the exception null when I use onException?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-use-multiple-camelcontext.html">Why use multiple CamelContext?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-enable-debug-logging.html">How do I enable debug logging?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-use-log4j.html">How do I use log4j?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-make-my-jms-endpoint-transactional.html">How Do I Make My JMS Endpoint Transactional?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-set-the-mep-when-interacting-with-jbi.html">How do I set the MEP when interacting with JBI?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-the-direct-event-seda-and-vm-endpoints-compare.html">How do the direct, event, seda and vm endpoints compare?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-the-timer-and-quartz-endpoints-compare.html">How do the Timer and Quartz endpoints compare?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-my-jms-route-only-consume-one-message-at-once.html">Why does my JMS route only consume one message at once?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/exception-beandefinitionstoreexception.html">Exception - BeanDefinitionStoreException</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/exception-orgapachecamelnosuchendpointexception.html">Exception - org.apache.camel.NoSuchEndpointException</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/exception-orgxmlsaxsaxparseexception.html">Exception - org.xml.sax.SAXParseException</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/memory-leak-when-adding-and-removing-routes-at-runtime.html">Memory leak when adding and removing routes at runtime</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-camel-use-too-many-threads-with-producertemplate.html">Why does Camel use too many threads with ProducerTemplate?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-maven-not-download-dependencies.html">Why does maven not download dependencies?</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><strong>Reference</strong></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../components/next/index.html">Components</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../components/next/dataformats/index.html">Data Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../components/next/languages/index.html">Languages</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../components/next/eips/enterprise-integration-patterns.html">EIPs</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">User manual</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../components/next/index.html">Camel Components</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../components/next/index.html">Next (Pre-release)</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">User manual</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">User manual</a></li>
    <li><a href="camel-3x-upgrade-guide-3_15.html">Apache Camel 3.x Upgrade Guide</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="file:///code/jboss/jboss-camel/docs/user-manual/modules/ROOT/pages/camel-3x-upgrade-guide-3_15.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Apache Camel 3.x Upgrade Guide</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This document is for helping you upgrade your Apache Camel application
from Camel 3.x to 3.y. For example if you are upgrading Camel 3.0 to 3.2, then you should follow the guides
from both 3.0 to 3.1 and 3.1 to 3.2.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_upgrading_camel_3_14_to_3_15"><a class="anchor" href="#_upgrading_camel_3_14_to_3_15"></a>Upgrading Camel 3.14 to 3.15</h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Java 8 is no longer supported. Camel 3.15 onwards requires Java 11 or 17.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_removed_components"><a class="anchor" href="#_removed_components"></a>Removed components</h3>
<div class="paragraph">
<p>The <code>camel-kamelet-reify</code> and <code>camel-spring-javaconfig</code> has been removed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_removed_maven_archetypes"><a class="anchor" href="#_removed_maven_archetypes"></a>Removed Maven Archetypes</h3>
<div class="paragraph">
<p>The <code>camel-archetype-endpointdsl</code> has been removed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_api_changes"><a class="anchor" href="#_api_changes"></a>API changes</h3>
<div class="paragraph">
<p>Added <code>getScheme</code> method to <code>org.apache.camel.spi.Resource</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_core_dependency_changes"><a class="anchor" href="#_core_dependency_changes"></a>Core Dependency changes</h3>
<div class="paragraph">
<p>As part of CAMEL-17429 and CAMEL-17435, the following dependencies are no longer included by default on all the Camel modules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>com.sun.xml.messaging.saaj:saaj-impl</p>
</li>
<li>
<p>jakarta.xml.bind:jakarta.xml.bind-api</p>
</li>
<li>
<p>javax.annotation:javax.annotation-api</p>
</li>
<li>
<p>javax.xml.soap:javax.xml.soap-api</p>
</li>
<li>
<p>javax.xml.ws:jaxws-api</p>
</li>
<li>
<p>org.apache.geronimo.specs:geronimo-jta_1.1_spec</p>
</li>
<li>
<p>org.apache.geronimo.specs:geronimo-ws-metadata_2.0_spec</p>
</li>
<li>
<p>org.glassfish.jaxb:jaxb-runtime</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These dependencies were included on the specific modules and components that required them on a per-case basis.</p>
</div>
<div class="paragraph">
<p>Applications with dependency on any of those, but using them transitively, should be modified to include them.</p>
</div>
</div>
<div class="sect2">
<h3 id="_camel_core"><a class="anchor" href="#_camel_core"></a>camel-core</h3>
<div class="paragraph">
<p>Removed the deprecated <code>Classic</code> value from <code>startupSummaryLevel</code> enums.</p>
</div>
<div class="paragraph">
<p>The deprecated <code>propertyName</code> on <code>removeProperty</code> EIP has been removed, use <code>name</code> instead.</p>
</div>
</div>
<div class="sect2">
<h3 id="_data_formats"><a class="anchor" href="#_data_formats"></a>Data Formats</h3>
<div class="paragraph">
<p>The data formats naming has been made consistent to use Camel Case:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Old Name</th>
<th class="tableblock halign-left valign-top">New Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bindy-csv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bindyCsv</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bindy-fixed</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bindyFixed</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bindy-kvp</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bindyKvp</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>customDataFormat</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>custom</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gzip-deflater</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gzipDeflater</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jacksonxml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jacksonXml</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>json-fastjson</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fastjson</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>json-gson</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gson</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>json-jackson</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jackson</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>json-johnzon</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>johnzon</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>json-jsonb</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jsonb</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>json-xstream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xstreamJson</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mime-multipart</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mimeMultipart</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>protobuf-jackson</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>protobufJackson</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>secureXML</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xmlSecurity</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>soapjaxb</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>soap</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tarfile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tarFile</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>univociy-csv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>univociyCsv</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>univociy-fixed</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>univociyFixed</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>univociy-tsv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>univociyTsv</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>yaml-snakeyaml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>snakeYaml</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>zip-deflater</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>zipDeflater</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>zipfile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>zipFile</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The Spring Boot auto-configuration names has also been renamed
(uses dash case as this is Spring Boot naming style):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Old Name</th>
<th class="tableblock halign-left valign-top">New Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.fhirjson</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.fhir-json</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.fhirxml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.fhir-xml</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.gzipdeflater</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.gzip-deflater</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.jacksonxml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.jackson-xml</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.jsonapi</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.json-api</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.mimemultipart</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.mime-multipart</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.securexml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.xml-security</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.tarfile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.tar-file</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.tidymarkup</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.tidy-markup</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.univocitycsv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.univocity-csv</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.univocityfixed</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.univocity-fixed</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.univocitytsv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.univocity-tsv</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.yaml-snakeyaml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.snake-yaml</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.zipdeflater</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.zip-deflater</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.zipfile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>camel.dataformat.zip-file</code></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_message_history"><a class="anchor" href="#_message_history"></a>Message History</h4>
<div class="paragraph">
<p>The message history output has changed to include source column, which refers to the Java class/XML file
from the DSL the message was at the given time. (line precise error reporting).</p>
</div>
<div class="paragraph">
<p>This default formatting are (Source, ID, Processor, Elapsed):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">MESSAGE_HISTORY_HEADER = "%-40s %-30s %-50s %-12s";
MESSAGE_HISTORY_OUTPUT = "%-40.40s %-30.30s %-50.50s %12.12s";</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are using custom sizes then you need to adjust accordingly.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_camel_endpointdsl"><a class="anchor" href="#_camel_endpointdsl"></a>camel-endpointdsl</h3>
<div class="paragraph">
<p>The Endpoint DSL is now more type-safe, where previously an option would be declared as <code>Object</code> type,
is now declared using its actual type, such as <code>javax.sql.DataSource</code>.</p>
</div>
<div class="paragraph">
<p>Option that are enums is now using the real enum FQN class name, instead of a duplicate enum
class that was embedded inside the Endpoint DSL. For example when using <code>aws2sq</code> the
namingStrategy enum is changed from <code>org.apache.camel.builder.endpoint.dsl.AWS2S3EndpointBuilderFactory</code>
to <code>org.apache.camel.component.aws2.s3.stream.AWSS3NamingStrategyEnum</code> class name.</p>
</div>
</div>
<div class="sect2">
<h3 id="_camel_management"><a class="anchor" href="#_camel_management"></a>camel-management</h3>
<div class="paragraph">
<p>The route controller MBeans are moved from <code>routecontrollers</code> to the existing <code>services</code>
node in the JMX MBean tree.</p>
</div>
<div class="paragraph">
<p>Removed deprecated operations on <code>CamelContextMBean</code> and <code>CamelRouteMBean</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_camel_util"><a class="anchor" href="#_camel_util"></a>camel-util</h3>
<div class="paragraph">
<p>Deleted the <code>replaceAll</code> method of <code>org.apache.camel.util.StringHelper</code>. Please use the <code>replace</code> method of <code>java.lang.String</code> instead, as it is much faster from Java 11 onward.</p>
</div>
</div>
<div class="sect2">
<h3 id="_camel_yaml_dsl"><a class="anchor" href="#_camel_yaml_dsl"></a>camel-yaml-dsl</h3>
<div class="paragraph">
<p>Removed <code>steps</code> from <code>route</code> because steps should only be configured on <code>from</code> making
the DSL consistent and similar to Java DSL.</p>
</div>
<div class="paragraph">
<p>Before it was possible to do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- route:
    id: demo-route
    from:
      uri: "timer:info"
    steps:
      - log: "message"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This should correctly be done with <code>steps</code> as child of <code>from</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- route:
    id: demo-route
    from:
      uri: "timer:info"
      steps:
        - log: "message"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>tod</code> EIP name has been removed, the correct names to use is <code>toD</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_camel_jbang"><a class="anchor" href="#_camel_jbang"></a>camel-jbang</h3>
<div class="paragraph">
<p>The JBang app that was previously named <code>CamelJBang</code> is now named <code>camel</code>. It is still possible to use the older name by installing it using <code>CamelJBang@apache/camel</code> but this approach is deprecated and should not be used in the future.</p>
</div>
</div>
<div class="sect2">
<h3 id="_camel_debezium"><a class="anchor" href="#_camel_debezium"></a>camel-debezium</h3>
<div class="paragraph">
<p>Upgraded to Debezium 1.8 which requires Java 11 and Kafka Client 3.0 JARs.</p>
</div>
</div>
<div class="sect2">
<h3 id="_camel_cdi"><a class="anchor" href="#_camel_cdi"></a>camel-cdi</h3>
<div class="paragraph">
<p>The legacy XML in <code>camel-cdi</code> with <code>&lt;camelContext&gt;</code> is deprecated, instead the XML DSL route loader should be used.</p>
</div>
<div class="paragraph">
<p>JTA support is moved out of <code>camel-cdi</code> to its own <code>camel-cdi-jta</code> module.</p>
</div>
<div class="paragraph">
<p>The <code>org.apache.camel.cdi.Main</code> class has moved from <code>camel-cdi</code> to <code>camel-cdi-main</code> JAR.</p>
</div>
</div>
<div class="sect2">
<h3 id="_camel_kafka"><a class="anchor" href="#_camel_kafka"></a>camel-kafka</h3>
<div class="paragraph">
<p>The following classes were moved from <code>org.apache.camel.component.kafka</code> to <code>org.apache.camel.component.kafka.consumer</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>DefaultKafkaManualAsyncCommit</code></p>
</li>
<li>
<p><code>DefaultKafkaManualAsyncCommitFactory</code></p>
</li>
<li>
<p><code>DefaultKafkaManualSyncCommit</code></p>
</li>
<li>
<p><code>DefaultKafkaManualSyncCommitFactory</code></p>
</li>
<li>
<p><code>KafkaAsyncManualCommit</code></p>
</li>
<li>
<p><code>KafkaManualCommit</code></p>
</li>
<li>
<p><code>KafkaManualCommitFactory</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The signature for <code>KafkaManualCommitFactory</code> and its classes has been adjusted to abstract some runtime parameters. The old signature is still available but will be removed in 3.16.0.</p>
</div>
</div>
<div class="sect2">
<h3 id="_camel_karaf"><a class="anchor" href="#_camel_karaf"></a>camel-karaf</h3>
<div class="paragraph">
<p>The <code>camel-endpointdsl</code> and <code>camel-componentdsl</code> is no longer supported on Apache Karaf.</p>
</div>
<div class="paragraph">
<p>The <code>camel-osg-activator</code>, <code>camel-google-calendar</code>, <code>camel-google-drive</code>, <code>camel-google-mail</code>, <code>camel-google-sheets</code>, and <code>camel-jooq</code> has been removed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_camel_netty_camel_netty_http"><a class="anchor" href="#_camel_netty_camel_netty_http"></a>camel-netty / camel-netty-http</h3>
<div class="paragraph">
<p>The netty producer has migrated from commons-poll v1 to v2.
The option <code>producerPoolMaxActive</code> is renamed to <code>producerPoolMaxTotal</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_camel_quartz"><a class="anchor" href="#_camel_quartz"></a>camel-quartz</h3>
<div class="paragraph">
<p>Removed the option <code>startDelaySeconds</code> as this does not work correctly and causes problems if in use.</p>
</div>
</div>
<div class="sect2">
<h3 id="_camel_rabbitmq"><a class="anchor" href="#_camel_rabbitmq"></a>camel-rabbitmq</h3>
<div class="paragraph">
<p>The rabbitmq producer has migrated from commons-poll v1 to v2.</p>
</div>
</div>
<div class="sect2">
<h3 id="_camel_openapi_java"><a class="anchor" href="#_camel_openapi_java"></a>camel-openapi-java</h3>
<div class="paragraph">
<p>The contextPath specified in the REST configuration is no longer added to the paths of the operations in the generated openapi specification.</p>
</div>
</div>
<div class="sect2">
<h3 id="_camel_google_drive"><a class="anchor" href="#_camel_google_drive"></a>camel-google-drive</h3>
<div class="paragraph">
<p>The <code>camel-google-drive</code> component has upgraded to the latest version of <code>google-api-services-drive</code>. This means that support for access to the Google Drive Realtime APIs
via URIs like <code>google-drive:drive-realtime</code> has been removed. Google deprecated and retired the realtime APIs some time ago.</p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
